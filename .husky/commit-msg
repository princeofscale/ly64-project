#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –∫–æ–º–º–∏—Ç–∞
# –§–æ—Ä–º–∞—Ç: type(scope): subject
# –ü—Ä–∏–º–µ—Ä: feat(auth): add login validation

commit_msg=$(cat "$1")

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –¥–ª–∏–Ω—ã
if [ ${#commit_msg} -lt 10 ]; then
  echo "‚ùå –°–æ–æ–±—â–µ–Ω–∏–µ –∫–æ–º–º–∏—Ç–∞ —Å–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–æ–µ (–º–∏–Ω–∏–º—É–º 10 —Å–∏–º–≤–æ–ª–æ–≤)"
  echo "üí° –§–æ—Ä–º–∞—Ç: type(scope): subject"
  echo "   –ü—Ä–∏–º–µ—Ä—ã —Ç–∏–ø–æ–≤: feat, fix, docs, style, refactor, test, chore"
  exit 1
fi

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ WIP –∫–æ–º–º–∏—Ç—ã
if echo "$commit_msg" | grep -qiE "^(wip|todo|fixme|temp)"; then
  echo "‚ö†Ô∏è  –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ: –û–±–Ω–∞—Ä—É–∂–µ–Ω WIP/TODO/FIXME/TEMP –∫–æ–º–º–∏—Ç"
  echo "   –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —ç—Ç–æ –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ"
fi
